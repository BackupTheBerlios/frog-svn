<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>The Frog Framework: Singleton Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.3 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="namespacefrog.html">frog</a>::<a class="el" href="namespacefrog_1_1sys.html">sys</a>::<a class="el" href="classfrog_1_1sys_1_1Singleton.html">Singleton</a></div>
<h1>Singleton Class Template Reference</h1><!-- doxytag: class=<frog::sys::Singleton> --><code>#include &lt;<a class="el" href="Singleton_8h-source.html">Singleton.h</a>&gt;</code>
<p>
<a href="classfrog_1_1sys_1_1Singleton-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename T&gt;<br>
 class frog::sys::Singleton&lt; T &gt;</h3>

A template class for creating single-instance global classes. 
<p>
A singleton is an object that has only one instance in a system at any time. This template class is meant to be derived from.<p>
To convert any class into a singleton, the following steps should be followed:<p>
<ol type=1>
<li>Publicly derive you class <code>MyClass</code> from <code>Singleton&lt;MyClass&gt;</code>.</li><li>Declare <code>template&lt;&gt; MyClass* <a class="el" href="classfrog_1_1sys_1_1Singleton.html#frog_1_1sys_1_1Singletont0">Singleton&lt;MyClass&gt;::singleton_</a> = 0</code> in the class that derives from <code><a class="el" href="classfrog_1_1sys_1_1Singleton.html">Singleton</a></code>.</li><li>Make sure that you're constructing an instance of <code>MyClass</code> somewhere in the system before using it. How you instantiate it does not matter. You can let the compiler worry about it by making it a global or local static, or you can worry about it yourself via <code>new</code> and <code>delete</code> through an owner class. Regardless of how and when you construct the instance, it will get tracked and may be used as a singleton through common interfaces by the rest of the system.</li><li>Call <code>MyClass::getSingleton()</code> to use the object from anywhere in the system. You can also <code>#define gMyClass</code> to be <code>MyClass::getSingleton()</code> and treat it exactly like a global object for notational convenience.</li></ol>
<p>
An example is given below:<p>
<code> <div class="fragment"><pre class="fragment">        <span class="keyword">class </span>MyClass : <span class="keyword">public</span> <a class="code" href="classfrog_1_1sys_1_1Singleton.html#frog_1_1sys_1_1Singletona0">Singleton</a>&lt;MyClass&gt;
        {
          <span class="keyword">public</span>:
                MyClass* getSomething(<span class="keyword">const</span> <span class="keywordtype">char</span>* name);
        };

<span class="preprocessor">        #define gMyClass MyClass::getSingleton()</span>
<span class="preprocessor"></span>        <span class="keyword">template</span>&lt;&gt; MyClass* Singleton&lt;MyClass&gt;::singleton = 0;

        <span class="keywordtype">void</span> SomeFunction()
        {
                SomeClass* one = MyClass::getSingleton().getSomeClass(<span class="stringliteral">"XX"</span>);
                SomeClass* two = gMyClass.getSomeClass(<span class="stringliteral">"YY"</span>);
        }
</pre></div> </code> <dl compact><dt><b>Note:</b></dt><dd>This <a class="el" href="classfrog_1_1sys_1_1Singleton.html">Singleton</a> is based from the work of Scott Bilas &lt;<a href="mailto:scottb@drizzle.com">scottb@drizzle.com</a>&gt;.</dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrog_1_1sys_1_1Singleton.html#frog_1_1sys_1_1Singletona0">Singleton</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The template constructor.  <a href="#frog_1_1sys_1_1Singletona0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static T &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrog_1_1sys_1_1Singleton.html#frog_1_1sys_1_1Singletone0">getSingleton</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Obtain a reference to the singleton instance.  <a href="#frog_1_1sys_1_1Singletone0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static T *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrog_1_1sys_1_1Singleton.html#frog_1_1sys_1_1Singletone1">getSingletonPtr</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Obtain a pointer to the singleton instance.  <a href="#frog_1_1sys_1_1Singletone1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="frog_1_1sys_1_1Singletont0"></a><!-- doxytag: member=<frog::sys::Singleton::singleton_> ref=<frog_1_1sys_1_1Singletont0> args=<> -->
static T *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrog_1_1sys_1_1Singleton.html#frog_1_1sys_1_1Singletont0">singleton_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The object wrapped by this <a class="el" href="classfrog_1_1sys_1_1Singleton.html">Singleton</a> class. <br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="frog_1_1sys_1_1Singletona0"></a><!-- doxytag: member=<frog::sys::Singleton::Singleton> ref=<frog_1_1sys_1_1Singletona0> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classfrog_1_1sys_1_1Singleton.html">Singleton</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The template constructor. 
<p>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classfrog_1_1sys_1_1RuntimeException.html">frog::sys::RuntimeException</a></em>&nbsp;</td><td>Thrown whenever there are attempts to construct the object while there is still a valid instance of it.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="frog_1_1sys_1_1Singletone0"></a><!-- doxytag: member=<frog::sys::Singleton::getSingleton> ref=<frog_1_1sys_1_1Singletone0> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static T&amp; getSingleton           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Obtain a reference to the singleton instance. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>A reference to the object. </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classfrog_1_1sys_1_1NullPointerException.html">frog::sys::NullPointerException</a></em>&nbsp;</td><td>Thrown when attempting to get a reference when there is none.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="frog_1_1sys_1_1Singletone1"></a><!-- doxytag: member=<frog::sys::Singleton::getSingletonPtr> ref=<frog_1_1sys_1_1Singletone1> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static T* getSingletonPtr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Obtain a pointer to the singleton instance. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>A reference to the object. </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classfrog_1_1sys_1_1NullPointerException.html">frog::sys::NullPointerException</a></em>&nbsp;</td><td>Returned when attempting to get a reference when there is none.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Singleton_8h-source.html">Singleton.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Aug 26 11:18:44 2005 for The Frog Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.3 </small></address>
</body>
</html>
